{"version":3,"sources":["agent.js","actionTypes.js","components/Login.js","middleware.js","reducers/common.js","store.js","reducers/auth.js","reducers/points.js","reducers/colors.js","components/MainHeader.js","components/App.js","components/Greetings.js","components/InvalidButton.js","components/PointForm.js","components/TableRow.js","components/ResultTable.js","components/Graph.js","components/Main.js","index.js"],"names":["superagent","superagentPromise","_superagent","global","Promise","responseBody","res","body","token","tokenPlugin","req","set","requests","url","get","use","then","catch","err","console","log","post","Points","all","recalculated","r","new","x","y","Auth","login","username","password","logout","setToken","_token","LOGIN","Login","changePassword","ev","props","onChangePassword","target","value","changeUsername","onChangeUsername","submitForm","preventDefault","onSubmit","className","id","onClick","hideDisplay","title","this","htmlFor","maxLength","type","placeholder","name","required","onChange","showPass","style","backgroundColor","showDisplay","React","Component","document","getElementById","display","pass","window","onclick","event","modal","connect","state","auth","currentUser","common","dispatch","key","payload","agent","defaultState","appName","reducers","combineReducers","action","inProgress","errors","error","message","subtype","appLoaded","redirectTo","points","xc","rc","yc","point","points_r","current_r","undefined","colors","colorV","oppositeColor","middleware","applyMiddleware","store","next","v","JSON","parse","e","localStorage","setItem","Cookies","removeItem","createStore","LoggedOutView","to","LoggedInView","MainHeader","onClickLogout","App","getItem","onLoad","nextProps","history","push","redirect","onRedirect","Greetings","firstName","InvalidButton","isError","ref","refer","PointForm","changeX","onChangeX","changeR","onChangeR","changeY","replace","length","isNaN","onErrorQ","setState","onChangeY","submitRef","createRef","selected","TableRow","hit","ResultTable","cellSpacing","width","map","Graph","colorValue","missColor","setColor","bind","mousePosition","drawPoint","invertColor","drawGraph","recalculatedPoints","color","randomColor","Math","floor","random","toString","str","len","Array","join","slice","hex","bw","indexOf","Error","parseInt","g","b","padZero","canvas","pointRadius","matchMedia","matches","setAttribute","getAttribute","height","ctx","getContext","font","strokeStyle","fillStyle","clearRect","fillRect","beginPath","moveTo","lineTo","fill","closePath","arc","PI","fillText","stroke","evt","position","rect","getBoundingClientRect","clientX","left","clientY","top","getMousePosition","xCoordinate","toFixed","yCoordinate","onCanvasClick","node","graphic","Main","prevProps","prevState","snapshot","createHistory","ReactDOM","render","path","component"],"mappings":"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","file":"static/js/main.ffef1b8c.chunk.js","sourcesContent":["import superagentPromise from 'superagent-promise';\r\nimport _superagent from 'superagent';\r\n\r\nconst superagent = superagentPromise(_superagent, global.Promise);\r\n\r\n//FIXME: УЕБАШИТЬ ПОРТ И ПОСТАВИТЬ /api\r\nconst API_ROOT = 'http://localhost:22206';\r\n\r\nconst responseBody = res => res.body;\r\n\r\nlet token = null;\r\nconst tokenPlugin = req => {\r\n    if (token) {\r\n        req.set('Authorization', `Basic ${token}`);\r\n    }\r\n};\r\n\r\nconst requests = {\r\n    get: url =>\r\n        superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody).catch(err => console.log(err)),\r\n    post: (url, body) =>\r\n        superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\r\n};\r\n\r\nconst Points = {\r\n    all: () =>\r\n        requests.get('/points'),\r\n    recalculated: (r) =>\r\n        requests.get(`/points/recalculate?r=${r}`),\r\n    new: (x, y, r) =>\r\n        requests.post('/points', {x: x, y: y, r: r})\r\n};\r\n\r\nconst Auth = {\r\n    login: (username, password) =>\r\n        requests.post('/login', { username: username, password: password }),\r\n    logout: () =>\r\n        requests.post('/logout'),\r\n};\r\n\r\nexport default {\r\n    Points,\r\n    Auth,\r\n    setToken: _token => { token = _token; }\r\n};\r\n","export const APP_LOAD = 'APP_LOAD';\r\n\r\nexport const LOGIN = 'LOGIN';\r\n\r\nexport const ASYNC_START = 'ASYNC_START';\r\nexport const UPDATE_FIELD_AUTH = 'UPDATE_FIELD_AUTH';\r\nexport const REDIRECT = 'REDIRECT';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const VALIDATION_ERROR = 'VALIDATION_ERROR';\r\nexport const UPDATE_FIELD_POINT = 'UPDATE_FIELD_POINT';\r\nexport const POINTS_LOADED = 'POINTS_LOADED';\r\nexport const POINTS_RECALCULATED = 'POINTS_RECALCULATED';\r\nexport const POINT_ADDED = 'POINT_ADDED';\r\n\r\nexport const CHANGE_COLORS = 'CHANGE_COLORS';\r\n","import React from \"react\";\r\nimport \"../styles2.css\"\r\nimport {LOGIN, UPDATE_FIELD_AUTH} from \"../actionTypes\";\r\nimport agent from '../agent';\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapStateToProps = state => ({\r\n    ...state.auth,\r\n    currentUser: state.common.currentUser,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onChangeUsername: value =>\r\n        dispatch({type: UPDATE_FIELD_AUTH, key: 'username', value}),\r\n    onChangePassword: value =>\r\n        dispatch({type: UPDATE_FIELD_AUTH, key: 'password', value}),\r\n    onSubmit: (username, password) => {\r\n        dispatch({type: LOGIN, payload: agent.Auth.login(username, password), username: username})\r\n    }\r\n});\r\n\r\nclass Login extends React.Component {\r\n\r\n    changePassword = ev => this.props.onChangePassword(ev.target.value);\r\n\r\n    changeUsername = ev => this.props.onChangeUsername(ev.target.value);\r\n\r\n    submitForm = (username, password) => ev => {\r\n        ev.preventDefault();\r\n        this.props.onSubmit(username, password);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <span className=\"dom\">Универси<span className=\"sgovnom\">тетitmo</span></span>\r\n                <div id=\"id01\" className=\"modal\">\r\n                    <span onClick={hideDisplay} className=\"close\" title=\"Close Modal\">&times;</span>\r\n                    <div className=\"modal-content animate\">\r\n                        <form onSubmit={this.submitForm(this.props.username, this.props.password)}>\r\n                            <div className=\"container2\">\r\n\r\n                                <label htmlFor='uname'><b>Username</b></label>\r\n                                <input maxLength=\"50\" type=\"text\" value={this.props.username}\r\n                                       placeholder=\"Enter Username\" name=\"uname\" id=\"uname\" required\r\n                                       onChange={this.changeUsername}/>\r\n\r\n                                <label htmlFor=\"psw\"><b>Password</b></label>\r\n                                <input maxLength=\"50\" type=\"password\" value={this.props.password}\r\n                                       placeholder=\"Enter Password\" name=\"psw\" id=\"psw\" required\r\n                                       onChange={this.changePassword}/>\r\n\r\n                                <label><input type=\"checkbox\" onClick={showPass}/>Show password</label>\r\n                                <button type=\"submit\">Login</button>\r\n                            </div>\r\n                        </form>\r\n                        <div className=\"container\" style={{backgroundColor: \"#f1f1f1\"}}>\r\n                            <button type=\"button\" onClick={hideDisplay}\r\n                                    className=\"cancelbtn\">Cancel\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button id=\"login\" className=\"ui-button\"\r\n                        onClick={showDisplay}>┬┴┬┴┤(･_├┬┴┬┴\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction hideDisplay() {\r\n    document.getElementById('id01').style.display = 'none';\r\n}\r\n\r\nfunction showDisplay() {\r\n    document.getElementById('id01').style.display = 'block';\r\n}\r\n\r\nfunction showPass() {\r\n    let pass = document.getElementById(\"psw\");\r\n    if (pass.type === \"password\") {\r\n        pass.type = \"text\";\r\n    } else {\r\n        pass.type = \"password\";\r\n    }\r\n}\r\n\r\n// When the user clicks anywhere outside of the modal, close it\r\nwindow.onclick = function (event) {\r\n    let modal = document.getElementById('id01');\r\n    if (event.target === modal) {\r\n        modal.style.display = \"none\";\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import agent from './agent';\r\nimport Cookies from 'js-cookie';\r\nimport {\r\n    POINT_ADDED,\r\n    POINTS_LOADED,\r\n    LOGIN,\r\n    LOGOUT,\r\n    ASYNC_START, POINTS_RECALCULATED\r\n} from './actionTypes';\r\n\r\nconst promiseMiddleware = store => next => action => {\r\n    if (isPromise(action.payload)) {\r\n        store.dispatch({ type: ASYNC_START, subtype: action.type });\r\n        action.payload.then(\r\n            res => {\r\n                action.payload = res;\r\n                store.dispatch(action);\r\n            },\r\n            error => {\r\n                action.error = true;\r\n                try {\r\n                    action.payload = JSON.parse(error.message);\r\n                } catch (e) {\r\n                    action.payload = error;\r\n                }\r\n                store.dispatch(action);\r\n            }\r\n        );\r\n\r\n        return;\r\n    }\r\n\r\n    next(action);\r\n};\r\n\r\nfunction isPromise(v) {\r\n    return v && typeof v.then === 'function';\r\n}\r\n\r\nconst pointsMiddleware = store => next => action => {\r\n\r\n    switch (action.type) {\r\n        case POINTS_LOADED:\r\n            if (action.error) {\r\n                window.localStorage.removeItem('token');\r\n                window.localStorage.removeItem('username');\r\n                agent.setToken(null);\r\n            }\r\n            break;\r\n        case POINT_ADDED:\r\n            if (!action.error) {\r\n                store.dispatch({ type: POINTS_LOADED, payload: agent.Points.all() });\r\n                store.dispatch({ type: POINTS_RECALCULATED, payload: agent.Points.recalculated(action.r), r: action.r});\r\n            }\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    next(action);\r\n};\r\n\r\nconst authMiddleware = store => next => action => {\r\n\r\n    switch (action.type) {\r\n        case LOGIN:\r\n            if (!action.error) {\r\n                window.localStorage.setItem('token', Cookies.get('JSESSIONID'));\r\n                window.localStorage.setItem('username', action.username);\r\n                agent.setToken(Cookies.get('JSESSIONID'));\r\n            }\r\n            break;\r\n        case LOGOUT:\r\n            window.localStorage.removeItem('token');\r\n            window.localStorage.removeItem('username');\r\n            agent.setToken(null);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    next(action);\r\n};\r\n\r\n\r\nexport {\r\n    authMiddleware,\r\n    pointsMiddleware,\r\n    promiseMiddleware\r\n};\r\n","import {\r\n    LOGIN,\r\n    LOGOUT,\r\n    REDIRECT,\r\n    APP_LOAD\r\n} from '../actionTypes';\r\n\r\nconst defaultState = {\r\n    appName: 'lab4',\r\n    token: null\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case APP_LOAD:\r\n            return {\r\n                ...state,\r\n                token: action.token || null,\r\n                appLoaded: true,\r\n                currentUser: action.username || null\r\n            };\r\n        case REDIRECT:\r\n            return { ...state, redirectTo: null };\r\n        case LOGOUT:\r\n            return { ...state, redirectTo: '/', token: null, currentUser: null };\r\n        case LOGIN:\r\n            return {\r\n                ...state,\r\n                redirectTo: action.error ? '/' : '/main',\r\n                currentUser: action.error ? null : action.username\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import { applyMiddleware, createStore, combineReducers } from 'redux';\r\nimport {authMiddleware, pointsMiddleware, promiseMiddleware} from './middleware';\r\nimport auth from './reducers/auth';\r\nimport common from './reducers/common';\r\nimport points from './reducers/points';\r\nimport colors from './reducers/colors';\r\n\r\n\r\nconst reducers = combineReducers({\r\n    auth,\r\n    common,\r\n    points,\r\n    colors\r\n});\r\n\r\nconst middleware = applyMiddleware(promiseMiddleware, authMiddleware, pointsMiddleware);\r\n\r\nconst store = createStore(reducers, middleware);\r\n\r\nexport default store;\r\n","import {\r\n    LOGIN,\r\n    ASYNC_START,\r\n    UPDATE_FIELD_AUTH\r\n} from '../actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n    switch (action.type) {\r\n        case LOGIN:\r\n            return {\r\n                ...state,\r\n                inProgress: false,\r\n                errors: action.error ? action.payload.message : null\r\n            };\r\n        case ASYNC_START:\r\n            if (action.subtype === LOGIN) {\r\n                return {...state, inProgress: true};\r\n            }\r\n            return state;\r\n        case UPDATE_FIELD_AUTH:\r\n            return {...state, [action.key]: action.value};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {\r\n    LOGOUT,\r\n    POINT_ADDED,\r\n    POINTS_LOADED,\r\n    POINTS_RECALCULATED,\r\n    UPDATE_FIELD_POINT\r\n} from '../actionTypes';\r\n\r\nexport default (state = {xc: 0, rc: 1, yc: 0}, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_FIELD_POINT:\r\n            return { ...state, [action.key]: action.value };\r\n        case POINT_ADDED:\r\n            return {\r\n                ...state,\r\n                point: action.payload\r\n            };\r\n        case POINTS_LOADED:\r\n            return {\r\n                ...state,\r\n                points: action.payload,\r\n            };\r\n        case POINTS_RECALCULATED:\r\n            return {\r\n                ...state,\r\n                points_r: action.payload,\r\n                current_r: action.r\r\n            };\r\n        case LOGOUT:\r\n            return { ...state, points: undefined};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {\r\n    CHANGE_COLORS\r\n} from '../actionTypes';\r\n\r\nexport default (state = {colorV : '#FC88DA', oppositeColor : '#037725'}, action) => {\r\n    switch (action.type) {\r\n        case CHANGE_COLORS:\r\n            return {\r\n                ...state,\r\n                colorV: action.colorV,\r\n                oppositeColor: action.oppositeColor\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport agent from \"../agent\";\r\nimport {connect} from \"react-redux\";\r\nimport {LOGOUT} from \"../actionTypes\";\r\n\r\nconst LoggedOutView = props => {\r\n    if (!props.currentUser) {\r\n        return (\r\n            <ul className=\"nav navbar-nav pull-xs-right\">\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/log\" className=\"nav-link\">\r\n                        Войти в лабку\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        );\r\n    }\r\n    return null;\r\n};\r\n\r\nconst LoggedInView = props => {\r\n\r\n    if (props.currentUser) {\r\n        return (\r\n            <ul className=\"nav navbar-nav pull-xs-right\">\r\n\r\n                <li className=\"nav-item\">\r\n                    Давно не виделись, {props.currentUser}!\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/main\" className=\"nav-link\">\r\n                        На главную страницу\r\n                    </Link>\r\n                    <Link to=\"/\"  onClick={props.logout} className=\"nav-link\">\r\n                        Выйти из лабки\r\n                    </Link>\r\n                </li>\r\n\r\n            </ul>\r\n        );\r\n    }\r\n    return null;\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onClickLogout: () => {\r\n        dispatch({ type: LOGOUT, payload: agent.Auth.logout() })\r\n    },\r\n});\r\n\r\nclass MainHeader extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-light \">\r\n                <div className=\"col-sm-5\">\r\n\r\n                    <LoggedInView currentUser={this.props.currentUser} logout={this.props.onClickLogout}/>\r\n\r\n                    <LoggedOutView currentUser={this.props.currentUser} />\r\n\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(() => ({}), mapDispatchToProps)(MainHeader);\r\n","import React from \"react\";\nimport \"../styles.css\";\nimport {connect} from 'react-redux';\nimport {APP_LOAD, REDIRECT} from \"../actionTypes\";\nimport agent from \"../agent\";\nimport {history} from \"../index\";\nimport MainHeader from \"./MainHeader\";\n\nconst mapStateToProps = state => ({\n    appName: state.common.appName,\n    currentUser: state.common.currentUser,\n    points: state.points.points,\n    redirectTo: state.common.redirect\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onLoad: (username, token) =>\n        dispatch({type: APP_LOAD, username, token}),\n    onRedirect: () =>\n        dispatch({type: REDIRECT})\n});\n\nclass App extends React.Component {\n    componentWillMount() {\n        const token = window.localStorage.getItem('token');\n        const username = window.localStorage.getItem('username');\n        if (token) {\n            agent.setToken(token);\n        }\n        this.props.onLoad(username, token);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.props.currentUser)\n            history.push('/');\n        console.log(this.props);\n        if (this.props.redirectTo)\n            history.push(this.props.redirectTo);\n    }\n\n    render() {\n        return (\n            <div>\n                <MainHeader currentUser={this.props.currentUser}/>\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from \"react\";\r\nimport \"../styles.css\";\r\n\r\nconst Greetings = ({ firstName}) => (\r\n    <div>\r\n        Значение Y: {firstName}\r\n    </div>\r\n);\r\n\r\nexport default Greetings;\r\n","import React from 'react';\r\nimport \"../styles.css\";\r\n\r\nclass InvalidButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isError === \"OK\") {\r\n            return (\r\n                <div>\r\n                    <button ref={this.props.refer} type=\"submit\">Влупить!</button>\r\n                </div>\r\n            );\r\n        }else{\r\n            return (\r\n                <div style={{backgroundColor: \"red\"}}>\r\n                    {this.props.isError}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default InvalidButton;\r\n","import React from \"react\";\r\nimport Greetings from \"./Greetings\";\r\nimport \"../styles.css\";\r\nimport {POINT_ADDED, UPDATE_FIELD_POINT, VALIDATION_ERROR} from \"../actionTypes\";\r\nimport agent from '../agent';\r\nimport {connect} from 'react-redux';\r\nimport InvalidButton from \"./InvalidButton\";\r\n\r\nconst mapStateToProps = state => ({\r\n    ...state.points,\r\n    errors: state.common.errors,\r\n});\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onChangeX: value =>\r\n        dispatch({type: UPDATE_FIELD_POINT, key: 'xc', value}),\r\n    onChangeY: value =>\r\n        dispatch({type: UPDATE_FIELD_POINT, key: 'yc', value}),\r\n    onChangeR: value =>\r\n        dispatch({type: UPDATE_FIELD_POINT, key: 'rc', value}),\r\n    onSubmit: (x, y, r) => {\r\n        dispatch({type: POINT_ADDED, payload: agent.Points.new(x, y, r), r})\r\n    },\r\n    onErrorQ: (err) => {\r\n        dispatch({type: VALIDATION_ERROR, error: err});\r\n    }\r\n});\r\n\r\nclass PointForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.submitRef = React.createRef();\r\n        this.state = {\r\n            error: \"OK\"\r\n        }\r\n    }\r\n\r\n    changeX = ev => {\r\n        this.props.onChangeX(ev.target.value);\r\n    };\r\n\r\n    changeR = ev => this.props.onChangeR(ev.target.value);\r\n\r\n    changeY = ev => {\r\n        const str = ev.target.value;\r\n        const value = str.replace(',', '.');\r\n        if (value.length === 0 || isNaN(value) || +value > 3.0 || +value < -5.0) {\r\n            this.props.onErrorQ('Y должен быть от -5 до 3');\r\n            this.setState({error: \"Y должен быть от -5 до 3\"});\r\n        } else {\r\n            this.props.onErrorQ(null);\r\n            this.setState({error: \"OK\"});\r\n        }\r\n        this.props.onChangeY(ev.target.value);\r\n    };\r\n\r\n    submitForm = (x, y, r) => ev => {\r\n        ev.preventDefault();\r\n        this.props.onSubmit(x, y, r);\r\n    };\r\n\r\n    render() {\r\n        const x = this.props.xc;\r\n        const y = this.props.yc;\r\n        const r = this.props.rc;\r\n        return (\r\n            <div className=\"top_float\">\r\n                <form className=\"form_div\" onSubmit={this.submitForm(x, y, r)}>\r\n                    <div>\r\n                        Выберите значение X:\r\n                            <select id=\"xValue\" onChange={this.changeX}>\r\n                                <option value=\"-2\">-2</option>\r\n                                <option value=\"-1.5\">-1.5</option>\r\n                                <option value=\"-1\">-1</option>\r\n                                <option value=\"-0.5\">-0.5</option>\r\n                                <option selected value=\"0\">0</option>\r\n                                <option value=\"0.5\">0.5</option>\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"1.5\">1.5</option>\r\n                                <option value=\"2\">2</option>\r\n                            </select>\r\n                    </div>\r\n                    <div>\r\n                        Введите значение Y:<br/>\r\n                        <input maxLength=\"6\" type=\"text\" name=\"yValue\" value={y} onChange={this.changeY}/>\r\n                        <Greetings firstName={y}/>\r\n                    </div>\r\n\r\n                    <div>\r\n                        Выберите значение R:\r\n                        <select id=\"rValue\" value={r} onChange={this.changeR}>\r\n                            <option value=\"1\">1</option>\r\n                            <option value=\"2\">2</option>\r\n                            <option value=\"3\">3</option>\r\n                            <option value=\"4\">4</option>\r\n                            <option value=\"5\">5</option>\r\n                        </select>\r\n                    </div>\r\n                    <InvalidButton refer={this.submitRef} isError={this.state.error}/>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PointForm);\r\n","import React from 'react';\r\nimport \"../styles.css\";\r\n\r\nclass TableRow extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    render() {\r\n        return (\r\n            <tr>\r\n                <td>{this.props.point.x}</td>\r\n                <td>{this.props.point.y}</td>\r\n                <td>{this.props.point.r}</td>\r\n                <td>{this.props.point.hit ? 'Хит' : 'Мисс'}</td>\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableRow;\r\n","import React from \"react\";\r\nimport TableRow from \"./TableRow\";\r\nimport \"../styles.css\";\r\n\r\n\r\nclass ResultTable extends React.Component {\r\n\r\n    render() {\r\n\r\n        if (this.props.currentUser) {\r\n            let className = \"pointList container d-flex justify-content-center col-sm-4\";\r\n            if (!this.props.points) {\r\n                return (\r\n                    <div className={className}>\r\n                        Загрузка точек...\r\n                    </div>\r\n                );\r\n            }\r\n            if (this.props.points.length === 0) {\r\n                return (\r\n                    <div className={className}>\r\n                        Тут пока пусто :c\r\n                    </div>\r\n                );\r\n            }\r\n            return (\r\n                <div className={className}>\r\n                    <table className=\"resultTable table table-striped table-bordered table-sm\" cellSpacing=\"0\"\r\n                           width=\"80%\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>X</th>\r\n                            <th>Y</th>\r\n                            <th>R</th>\r\n                            <th>Хит</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {\r\n                            this.props.points.map(point => {\r\n                                return (\r\n                                    <TableRow point={point} key={point.id} r={this.props.r}/>\r\n                                );\r\n                            })\r\n                        }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default ResultTable;\r\n","import React from \"react\";\r\nimport \"../styles.css\";\r\nimport {connect} from 'react-redux';\r\nimport agent from \"../agent\";\r\nimport {POINT_ADDED, POINTS_RECALCULATED} from \"../actionTypes\";\r\n\r\nconst mapStateToProps = state => ({\r\n    points: state.points.points_r,\r\n    rc: state.points.rc,\r\n    current_r: state.points.current_r\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    recalculatedPoints: (r) => {\r\n        dispatch({type: POINTS_RECALCULATED, payload: agent.Points.recalculated(r), r})\r\n    },\r\n    onCanvasClick: (x, y, r) => {\r\n        dispatch({type: POINT_ADDED, payload: agent.Points.new(x, y, r), r})\r\n    }\r\n});\r\n\r\nclass Graph extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            colorValue: \"#FC88DA\",\r\n            oppositeColor: \"#00FF00\",\r\n            missColor: \"#FF0000\"\r\n        };\r\n        this.setColor = this.setColor.bind(this);\r\n        this.mousePosition = this.mousePosition.bind(this);\r\n        this.drawPoint = this.drawPoint.bind(this);\r\n        this.invertColor = this.invertColor.bind(this);\r\n        this.drawGraph = this.drawGraph.bind(this);\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.props.recalculatedPoints(1);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.drawGraph(1);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.rc) {\r\n            this.drawGraph(nextProps.rc);\r\n            if (!nextProps.current_r || nextProps.current_r !== nextProps.rc)\r\n                this.props.recalculatedPoints(nextProps.rc);\r\n        }\r\n        if (nextProps.points) {\r\n            nextProps.points.map(point => this.drawPoint(point.r, point.x, point.y, point.hit));\r\n        }\r\n    }\r\n\r\n    setColor() {\r\n        let color = \"#FC88DA\";\r\n        let oppositeColor = \"#00FF00\";\r\n        let randomColor = Math.floor(Math.random() * 16777215);\r\n        randomColor = randomColor.toString(16);\r\n        color = \"#\" + randomColor;\r\n        oppositeColor = this.invertColor(color, false);\r\n        this.setState({colorValue: color, oppositeColor: oppositeColor});\r\n    }\r\n\r\n    padZero(str, len) {\r\n        len = len || 2;\r\n        let zeros = new Array(len).join('0');\r\n        return (zeros + str).slice(-len);\r\n    }\r\n\r\n    invertColor(hex, bw) {\r\n        if (hex.indexOf('#') === 0) {\r\n            hex = hex.slice(1);\r\n        }\r\n        // convert 3-digit hex to 6-digits.\r\n        if (hex.length === 3) {\r\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n        }\r\n        if (hex.length !== 6) {\r\n            throw new Error('Invalid HEX color.');\r\n        }\r\n        let r = parseInt(hex.slice(0, 2), 16),\r\n            g = parseInt(hex.slice(2, 4), 16),\r\n            b = parseInt(hex.slice(4, 6), 16);\r\n        if (bw) {\r\n            return (r * 0.299 + g * 0.587 + b * 0.114) > 186\r\n                ? '#000000'\r\n                : '#FFFFFF';\r\n        }\r\n        r = (255 - r).toString(16);\r\n        g = (255 - g).toString(16);\r\n        b = (255 - b).toString(16);\r\n        return \"#\" + this.padZero(r) + this.padZero(g) + this.padZero(b);\r\n    }\r\n\r\n    drawGraph(r) {\r\n        let canvas = document.getElementById(\"canvas\");\r\n        let pointRadius = document.getElementById(\"pointRadius\");\r\n        if (window.matchMedia(\"(max-width: 500px)\").matches) {\r\n            let h = document.getElementById(\"\")\r\n            canvas.setAttribute(\"width\", \"300\");\r\n            canvas.setAttribute(\"height\", \"300\");\r\n            pointRadius.value = \"3\";\r\n        } else {\r\n            if (window.matchMedia(\"(min-width: 705px) and (max-width: 1106px)\").matches) {\r\n                canvas.setAttribute(\"width\", \"300\");\r\n                canvas.setAttribute(\"height\", \"300\");\r\n                pointRadius.value = \"3\";\r\n            }else{\r\n                if (window.matchMedia(\"(min-width: 500px) and (max-width: 705px)\").matches) {\r\n                    canvas.setAttribute(\"width\", \"300\");\r\n                    canvas.setAttribute(\"height\", \"300\");\r\n                    pointRadius.value = \"3\";\r\n                }else {\r\n                    canvas.setAttribute(\"width\", \"300\");\r\n                    canvas.setAttribute(\"height\", \"300\");\r\n                    pointRadius.value = \"3\";\r\n                }\r\n            }\r\n        }\r\n        let color = this.state.colorValue;\r\n        let width = canvas.getAttribute(\"width\");\r\n        let height = canvas.getAttribute(\"height\");\r\n        console.log(\"width: \" + width + \", height: \" + height);\r\n        let ctx = canvas.getContext(\"2d\");\r\n        ctx.font = \"13px Ravi Prakash\";\r\n        ctx.strokeStyle = \"black\";\r\n        ctx.fillStyle = \"black\";\r\n        //Clear\r\n        ctx.clearRect(0, 0, width, height);\r\n\r\n        //Drawing rectangle\r\n        ctx.fillStyle = color;\r\n        ctx.fillRect(width / 6, 3 * height / 6, width / 3, height / 3);\r\n\r\n        //Drawing triangle\r\n        ctx.beginPath();\r\n        ctx.moveTo(width / 2, height / 2);\r\n        ctx.lineTo((width / 2) + (width / 6), height / 2);\r\n        ctx.lineTo(width / 2, height - (height / 6));\r\n        ctx.lineTo(width / 2, height / 2);\r\n        ctx.fill();\r\n        ctx.closePath();\r\n\r\n        //drawing 1/4 of circle\r\n        ctx.beginPath();\r\n        ctx.moveTo(width / 6, height / 2);\r\n        ctx.lineTo(width / 2, height / 2);\r\n        ctx.lineTo(width / 2, (height / 6));\r\n        ctx.arc(width / 2, height / 2, 2 * (width / 6), Math.PI, -Math.PI / 2, false);\r\n        ctx.fill();\r\n        ctx.closePath();\r\n\r\n        ctx.fillStyle = \"#000000\";\r\n        //Drawing arrows\r\n        ctx.beginPath();\r\n        ctx.moveTo(width / 2, 0);\r\n        ctx.lineTo(width / 2, height);\r\n        ctx.moveTo(width / 2, 0);\r\n        ctx.lineTo(width / 2 + 7, 7);\r\n        ctx.moveTo(width / 2, 0);\r\n        ctx.lineTo(width / 2 - 7, 7);\r\n        ctx.moveTo(0, height / 2);\r\n        ctx.lineTo(width, height / 2);\r\n        ctx.moveTo(width, height / 2);\r\n        ctx.lineTo(width - 7, height / 2 - 7);\r\n        ctx.moveTo(width, height / 2);\r\n        ctx.lineTo(width - 7, height / 2 + 7);\r\n        ctx.font = \"16px Ravi Prakash\";\r\n        ctx.fillText(\"X\", width - 10, height / 2 - 13);\r\n        ctx.fillText(\"Y\", width / 2 + 15, 10);\r\n        ctx.font = \"13px Ravi Prakash\";\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n\r\n        //Drawing lines\r\n        ctx.beginPath();\r\n        ctx.moveTo(width / 2 - 4, height - (height / 6));\r\n        ctx.lineTo(width / 2 + 4, height - (height / 6));\r\n        ctx.fillText(\"-\" + (r).toString(), width / 2 + 7, height - (height / 6) + 5);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(width / 2 - 4, height - 2 * (height / 6));\r\n        ctx.lineTo(width / 2 + 4, height - 2 * (height / 6));\r\n        ctx.fillText(\"-\" + (r / 2).toString(), width / 2 + 7, height - 2 * (height / 6) + 5);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(width / 2 - 4, height - 4 * (height / 6));\r\n        ctx.lineTo(width / 2 + 4, height - 4 * (height / 6));\r\n        ctx.fillText((r / 2).toString(), width / 2 + 7, height - 4 * (height / 6) + 5);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(width / 2 - 4, height - 5 * (height / 6));\r\n        ctx.lineTo(width / 2 + 4, height - 5 * (height / 6));\r\n        ctx.fillText((r).toString(), width / 2 + 7, height - 5 * (height / 6) + 5);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(width - (width / 6), height / 2 - 4);\r\n        ctx.lineTo(width - (width / 6), height / 2 + 4);\r\n        ctx.fillText((r).toString(), width - (width / 6) - 4, height / 2 + 14);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(width - 2 * (width / 6), height / 2 - 4);\r\n        ctx.lineTo(width - 2 * (width / 6), height / 2 + 4);\r\n        ctx.fillText((r / 2).toString(), width - 2 * (width / 6) - 3, height / 2 + 14);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(width - 4 * (width / 6), height / 2 - 4);\r\n        ctx.lineTo(width - 4 * (width / 6), height / 2 + 4);\r\n        ctx.fillText(\"-\" + (r / 2).toString(), width - 4 * (width / 6) - 7, height / 2 + 14);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(width - 5 * (width / 6), height / 2 - 4);\r\n        ctx.lineTo(width - 5 * (width / 6), height / 2 + 4);\r\n        ctx.fillText(\"-\" + (r).toString(), width - 5 * (width / 6) - 6, height / 2 + 14);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n    }\r\n\r\n    mousePosition(evt) {\r\n        this.setColor();\r\n        let r = document.getElementById(\"graphRadius\").value;\r\n        let canvas = document.getElementById(\"canvas\");\r\n        let width = canvas.getAttribute(\"width\");\r\n        let height = canvas.getAttribute(\"height\");\r\n        let position = getMousePosition(canvas, evt);\r\n        let xCoordinate = ((position.x - width / 2) / 100 * r).toFixed(5);\r\n        let yCoordinate = ((height / 2 - position.y) / 100 * r).toFixed(5);\r\n        this.props.onCanvasClick(xCoordinate, yCoordinate, this.props.rc || 1);\r\n    }\r\n\r\n    render() {\r\n        let className = \"container d-flex justify-content-center\";\r\n        return (\r\n            <div className={className}>\r\n                <canvas ref={node => this.graphic = node} id=\"canvas\"\r\n                        onClick={this.mousePosition}/>\r\n                <input type=\"hidden\" id=\"graphRadius\" value={this.props.rc}/>\r\n                <input type=\"hidden\" id=\"graphColor\" value={this.state.colorValue}/>\r\n                <input type=\"hidden\" id=\"pointRadius\" value=\"3\"/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    drawPoint(r, x, y, hit) {\r\n        let canvas = document.getElementById(\"canvas\");\r\n        let width = canvas.getAttribute(\"width\");\r\n        let height = canvas.getAttribute(\"height\");\r\n        let pointRadius = document.getElementById(\"pointRadius\").value;\r\n        let ctx = canvas.getContext(\"2d\");\r\n        let xCoordinate = width / 2 + ((x * (width / 3)) / r);\r\n        let yCoordinate = height / 2 - ((y * (height / 3)) / r);\r\n        if (hit) {\r\n            ctx.fillStyle = this.state.oppositeColor;\r\n        } else {\r\n            ctx.fillStyle = this.state.colorValue;\r\n        }\r\n        ctx.beginPath();\r\n        ctx.arc(xCoordinate, yCoordinate, pointRadius, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n        ctx.closePath();\r\n    }\r\n}\r\n\r\nfunction getMousePosition(canvas, evt) {\r\n    let rect = canvas.getBoundingClientRect();\r\n    return {\r\n        x: evt.clientX - rect.left,\r\n        y: evt.clientY - rect.top\r\n    };\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Graph);\r\n","import PointForm from \"./PointForm\";\r\nimport ResultTable from \"./ResultTable\";\r\nimport {connect} from 'react-redux';\r\nimport React from \"react\";\r\nimport {history} from \"../index\";\r\nimport Graph from \"./Graph\";\r\nimport {POINTS_LOADED} from \"../actionTypes\";\r\nimport agent from \"../agent\";\r\n\r\nconst mapStateToProps = state => ({\r\n    points: state.points.points,\r\n    currentUser: state.common.currentUser,\r\n    current_r: state.points.current_r\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onLoad: (payload) =>\r\n        dispatch({type: POINTS_LOADED, payload}),\r\n});\r\n\r\nclass Main extends React.Component {\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.currentUser) {\r\n            history.push('/main');\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.points === undefined) {\r\n            this.props.onLoad(agent.Points.all());\r\n        }\r\n\r\n        if (this.props.currentUser) {\r\n            if (this.props.points) {\r\n                return (\r\n                    <div className=\"container4\">\r\n                        <div id=\"content\">\r\n                            <PointForm/>\r\n                            <div id=\"main_photo_div\">\r\n                                <Graph/>\r\n                            </div>\r\n                            <ResultTable points={this.props.points} currentUser={this.props.currentUser}\r\n                                         r={this.props.current_r}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                );\r\n            } else {\r\n                return (\r\n                    <div className=\"container4\">\r\n                        <div id=\"content\">\r\n                            <PointForm/>\r\n                            <div id=\"main_photo_div\">\r\n                                <Graph/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                );\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Login from './components/Login';\nimport { Provider } from 'react-redux';\nimport store from \"./store\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport createHistory from 'history/createBrowserHistory'\nimport App from './components/App'\nimport Main from \"./components/Main\";\n\nexport const history = createHistory();\n\nReactDOM.render((\n    <Provider store={store}>\n        <Router history={history}>\n            <Route path=\"/\" component={App}/>\n            <Route path=\"/log\" component={Login}/>\n            <Route path=\"/main\" component={Main}/>\n        </Router>\n    </Provider>\n), document.getElementById('root'));\n"],"sourceRoot":""}